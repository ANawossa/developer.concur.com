---
title: Concur Itinerary Event
layout: reference
---

* [Overview](#overview)
* [Scope Usage](#scope-usage)
* [Events](#events)
* [Schema](#schema)
  * [Schema for Event One](#schema-one)
  * [Schema for Event Two](#schema-two)
* [Sample Events](#sample-events)

## <a name="overview"></a>Overview

This documentation explains all Concur Itinerary related events on the public topic `public.concur.travel.itinerary` in the Event Subscription Service (ESS). Subscribers will be able to subscribe to these events by following the steps described on the [Event Subscription Service v4](/api-reference/ess/v4.event-subscription.markdown) page.

> **Limitations**: This event subscription is only available to partners who have been granted access by SAP Concur. Access to this documentation does not provide access to the subscription.
## <a name="scope-usage"></a>Scope Usage

Which scopes are required to interact with this topic.

Name|Description
---|---
`travel.itinerary.read`|Get itinerary record

## <a name="events"></a>Events

All events under topic `public.concur.travel.itinerary` are listed as below.

EventType|Description
---|---
`ItineraryCreated`|Published when a new itinerary is created.
`ItineraryUpdated`|Published when an existing itinerary is updated.
`ItineraryCancelled`|Published when an existing itinerary is cancelled.
`ItineraryAonymized`|Published when an existing itinerary is anonymized.
`ItineraryDeleted`|Published when an existing itinerary is deleted.

## <a name="schema"></a>Schema

### <a name="schema-event"></a>Schema for Event

Name|Type|Format|Description
---|---|---|---
`id`|`UUID`|RFC 4122|**Required** EventId, Randomly generated unique identifier of this event.
`correlationId`|`UUID`|RFC 4122|**Required** Unique identifier used for logging/traceability.
`eventType`|`string`|`string`|**Required** Event type identified on the topic.
`topic`|`string`|`enum`|**Required** Public topic `public.concur.travel.itinerary` that the event belongs to.
`subtopic`|`string`|-|**Required** Subtopic is assigned the company ID, which is also populated as `companyId`.
`timeStamp`|`timeStamp`|RFC 3339|**Required** Current system time (UTC) when the event notification is issued.
`facts`|`map`|[Facts Schema](#schema-facts)|**Required** Key-value pairs providing the content of the event.
`data`|`string`|-|**Option** Extra information or data about this event.

### <a name="schema-facts"></a>Schema for Fact

Name|Type|Format|Description
---|---|---|---
`id`|`UUID`|RFC 4122|**Required** Unique identifier for this itinerary.
`companyId`|`UUID`|RFC 4122|**Required** Company unique identifier from profile service that this itinerary belong to.
`userId`|`UUID`|RFC 4122|User Unique identifier from profile service that that this itinerary belong to.
`itinLocator`|`String`|`alphanumeric`|**Omitempty, Required** Itinerary unique number
`href`|`map`|-|**Omitempty, Required** Key-value pairs providing Itineray schema version and URI of the itinerary record retrieved via the Itinerary v4 API. It should be empty for ItineraryDeleted/ItineraryAnonymized event since the itinerary record has been deleted or anonymized and no further updates will be provided for the trip.

## <a name="sample-events"></a>Sample Events

```json
{
  "id": "51519e89-2c1d-47ec-bd93-7c4ace9c57e6",
  "eventType": "ItineraryCreated| ItineraryUpdated| ItineraryCancelled",
  "timeStamp": "2016-01-01T23:01:01.000Z",
  "topic": "public.concur.travel.itinerary",
  "correlationId": "b2fd900a-5935-46fc-8d29-599de9864e21",
  "subtopic": "ab83bc5f-f66e-4ce0-9dcc-7dbf0195e061",
  "facts": {
    "id": "51519e89-2c1d-47ec-bd93-7c4ace9c57e9",
    "userId": "b7d12989-0489-471a-81cd-175f8b78afa5",
    "companyId": "ab83bc5f-f66e-4ce0-9dcc-7dbf0195e061",
    "hrefs": {
      "v4": "https://itin-trips.us.travel.concursolutions.com/api/v4/itin/51519e89-2c1d-47ec-bd93-7c4ace9c57e6"
    }
  }
},
{
  "id": "51519e89-2c1d-47ec-bd93-7c4ace9c57e7",
  "eventType": "ItineraryDeleted|ItineraryAnonymized",
  "timeStamp": "2016-01-01T23:01:01.000Z",
  "topic": "concur.itinerary.trips",
  "correlationId": "b2fd900a-5935-46fc-8d29-599de9864e21",
  "subtopic": "ab83bc5f-f66e-4ce0-9dcc-7dbf0195e061",
  "facts": {
    "id": "51519e89-2c1d-47ec-bd93-7c4ace9c57e8",
    "userId": "b7d12989-0489-471a-81cd-175f8b78afa5",
    "companyId": "ab83bc5f-f66e-4ce0-9dcc-7dbf0195e061"
  }
}

```
